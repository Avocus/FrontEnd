trigger:
- main

pool:
  vmImage: 'ubuntu-latest'

steps:
- script: |
    # Limpa o workspace
    echo "Limpando o workspace..."
    rm -rf *
    rm -rf .git

    # Clona o repositório
    echo "Clonando o repositório..."
    git clone https://github.com/Avocus/FrontEnd2.git .
    git checkout FrontEnd2

    # Configura o Git
    echo "Configurando o Git..."
    git config --global user.name "Seu Nome"
    git config --global user.email "seu.email@example.com"

    # Faz as alterações necessárias (exemplo: criar um arquivo)
    echo "Criando um arquivo de exemplo..."
    echo "Este é um arquivo de teste." > teste.txt

    # Adiciona e commita as alterações
    echo "Adicionando e commitando as alterações..."
    git add .
    git commit -m "Atualizações automáticas via Azure DevOps Pipeline"

    # Força o push para o GitHub
    echo "Enviando alterações para o GitHub..."
    git push --force origin FrontEnd2
  displayName: 'Limpar, clonar, modificar e enviar para o GitHub'